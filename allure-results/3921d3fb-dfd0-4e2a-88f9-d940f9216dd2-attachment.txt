2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:120: Cache table verified/created in (provided connection)
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:220: Starting analysis for incident ID: INC-001
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:154: Creating LLM prompt for incident ID: INC-001
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:242: Generated prompt:

Analyze the following incident report and provide ONLY a valid, structured JSON response adhering strictly to the enhanced schema below.

Incident Details:
ID: INC-001
Timestamp: 2024-08-15T10:30:00
Priority: 1
Affected Systems: Server XYZ, Auth Service
Reporter: User A
Description:
```
Server XYZ ...
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:174: Calling LLM service...
2025-05-05 17:52:07 [[32m    INFO[0m] httpx:1773: HTTP Request: POST http://127.0.0.1:8001/generate "HTTP/1.1 200 OK"
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:187: Successfully received response from LLM service.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:188: LLM Raw Response: ```json
{
  "potential_root_causes": [
    {
      "cause": "Incompatible package version after upgrade",
      "likelihood": "High",
      "explanation": "Timing coincides with upgrade, error mention...
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:310: Attempting to parse LLM response JSON...
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:333: Successfully parsed JSON string: {'potential_root_causes': [{'cause': 'Incompatible package version after upgrade', 'likelihood': 'High', 'explanation': 'Timing coincides with upgrade, error mentions dependency conflict.'}, {'cause': 'Underlying disk I/O issue', 'likelihood': 'Low', 'explanation': 'Less likely given the error message, but possible.'}], 'recommended_actions': [{'action': 'Rollback package upgrade on Server XYZ', 'type': 'Remediate', 'target': 'Server XYZ', 'priority': 1, 'estimated_time_minutes': 60, 'required_skills': ['Linux Admin', 'Package Management']}, {'action': 'Investigate dependency conflict mentioned in logs', 'type': 'Investigate', 'target': '/var/log/syslog', 'priority': 2, 'estimated_time_minutes': 30, 'required_skills': ['Troubleshooting']}, {'action': 'Update system documentation with conflict details', 'type': 'Document', 'target': 'KB Article 123', 'priority': 4, 'estimated_time_minutes': 15, 'required_skills': ['Technical Writing']}], 'incident_category': 'Software', 'estimated_resolution_time_hours': 2.5, 'similar_known_issues': ['INC-PREV-456', 'KB Article 789'], 'recommended_documentation': ['Package XYZ v2.0 Release Notes', 'Internal Rollback Procedure Guide'], 'confidence_explanation': 'High confidence due to direct error message correlation with recent change.'}
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:350: Successfully validated LLM response against enhanced Pydantic model.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:385: Calculating confidence score...
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:390: +20 points: Potential root causes present.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:396: +20 points: Recommended actions present.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:403: +10 points: Incident category present.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:409: +10 points: Estimated resolution time present.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:415: +5 points: Similar known issues present.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:421: +5 points: Recommended documentation present.
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:435: +10 points: Root cause details (count=2, likelihood=True, explanation=True).
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:452: +10 points: Action details (count=3, type=True, prio=True, time=True, skills=True).
2025-05-05 17:52:07 [[35m   DEBUG[0m] agents.incident.analyzer:459: +10 points: Confidence explanation present.
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:465: Calculated confidence score: 1.00 (raw score: 100.0/100.0)
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:486: Extracting actionable insights from 3 recommended actions.
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:504: Successfully extracted 3 actionable insights.
2025-05-05 17:52:07 [[32m    INFO[0m] agents.incident.analyzer:294: Analysis complete for incident ID: INC-001 via LLM in 0.03s (Confidence: 1.00)